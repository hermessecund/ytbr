const mockVideos: VideoPayload[] = [
    {
        video: {
            id: '_ea7lz5G_HY',
            viewCount: 8,
            duration: 64,
            uploaded: '2022-06-14T10:26:50Z',
            fetched: '2022-06-18T05:02:41.018Z',
            query: '"dsc 0075"',
        },
        time: 1655613284.189,
        offset: 0,
    },
    {
        video: {
            id: 'L4SauvwlNAk',
            viewCount: 4,
            duration: 328,
            uploaded: '2022-06-18T04:58:36Z',
            fetched: '2022-06-18T05:00:49.766Z',
            query: '"img 0152"',
        },
        time: 1655613292.194,
        offset: 0,
    },
    {
        video: {
            id: 'iTx4ROtL6Yo',
            viewCount: 4,
            duration: 2023,
            uploaded: '2022-06-12T03:08:39Z',
            fetched: '2022-06-17T05:01:33.970Z',
            query: '"img 0041"',
        },
        time: 1655613300.188,
        offset: 0,
    },
    {
        video: {
            id: 'w9xTZV-3iBQ',
            viewCount: 16,
            duration: 46,
            uploaded: '2022-06-11T11:00:26Z',
            fetched: '2022-06-17T05:00:54.738Z',
            query: '"mov 0005"',
        },
        time: 1655613308.19,
        offset: 0,
    },
    {
        video: {
            id: 'PNtNS56NfWw',
            viewCount: 1,
            duration: 66,
            uploaded: '2022-06-12T15:31:31Z',
            fetched: '2022-06-15T05:01:04.424Z',
            query: '"img 0053"',
        },
        time: 1655613316.189,
        offset: 0,
    },
    {
        video: {
            id: 'ZIzP0nYjd4w',
            viewCount: 1,
            duration: 120,
            uploaded: '2022-06-13T09:55:10Z',
            fetched: '2022-06-17T05:03:24.959Z',
            query: '"dsc 0044"',
        },
        time: 1655613324.191,
        offset: 0,
    },
    {
        video: {
            id: 'dR_9U116YuE',
            viewCount: 5,
            duration: 112,
            uploaded: '2022-06-14T10:25:53Z',
            fetched: '2022-06-17T05:03:29.683Z',
            query: '"dsc 0073"',
        },
        time: 1655613332.191,
        offset: 0,
    },
    {
        video: {
            id: 'k-7zVdIUtfQ',
            viewCount: 1,
            duration: 26,
            uploaded: '2022-06-12T09:04:17Z',
            fetched: '2022-06-13T05:01:31.989Z',
            query: '"img 0160"',
        },
        time: 1655613340.191,
        offset: 0,
    },
    {
        video: {
            id: 'IjbKLxsLQE8',
            viewCount: 0,
            duration: 47,
            uploaded: '2022-06-11T19:10:43Z',
            fetched: '2022-06-12T05:02:40.551Z',
            query: '"img 0005"',
        },
        time: 1655613348.193,
        offset: 0,
    },
    {
        video: {
            id: 'tu4l08deqNM',
            viewCount: 4,
            duration: 719,
            uploaded: '2022-06-15T14:12:23Z',
            fetched: '2022-06-17T05:02:24.729Z',
            query: '"dsc 0012"',
        },
        time: 1655613356.193,
        offset: 0,
    },
    {
        video: {
            id: 'j5qTG-DbTHY',
            viewCount: 5,
            duration: 1534,
            uploaded: '2022-06-14T04:36:44Z',
            fetched: '2022-06-17T05:03:43.872Z',
            query: '"img 0077"',
        },
        time: 1655613364.195,
        offset: 0,
    },
    {
        video: {
            id: '3wghitmkBNg',
            viewCount: 17,
            duration: 122,
            uploaded: '2022-06-12T15:30:00Z',
            fetched: '2022-06-17T05:01:17.116Z',
            query: '"img 0179"',
        },
        time: 1655613372.194,
        offset: 0,
    },
    {
        video: {
            id: 'xYrHbLatLAM',
            viewCount: 14,
            duration: 46,
            uploaded: '2022-06-14T02:11:04Z',
            fetched: '2022-06-17T05:02:34.294Z',
            query: '"img 0007"',
        },
        time: 1655613380.195,
        offset: 0,
    },
    {
        video: {
            id: 'EiY-QtC4lt8',
            viewCount: 59,
            duration: 101,
            uploaded: '2022-06-15T20:16:15Z',
            fetched: '2022-06-16T05:02:56.782Z',
            query: '"mov 0089"',
        },
        time: 1655613388.193,
        offset: 0,
    },
    {
        video: {
            id: 'Pl1ZwDwkPvA',
            viewCount: 7,
            duration: 79,
            uploaded: '2022-06-12T08:34:53Z',
            fetched: '2022-06-14T05:01:34.657Z',
            query: '"img 0046"',
        },
        time: 1655613396.195,
        offset: 0,
    },
    {
        video: {
            id: 'Al5DcL2bli0',
            viewCount: 3,
            duration: 85,
            uploaded: '2022-06-14T23:39:37Z',
            fetched: '2022-06-18T05:03:02.576Z',
            query: '"img 0083"',
        },
        time: 1655613404.195,
        offset: 0,
    },
    {
        video: {
            id: '4ZWzMx0LsRY',
            viewCount: 16,
            duration: 78,
            uploaded: '2022-06-11T13:04:43Z',
            fetched: '2022-06-17T05:01:46.123Z',
            query: '"img 0080"',
        },
        time: 1655613412.198,
        offset: 0,
    },
    {
        video: {
            id: 'ePku4XtmnNM',
            viewCount: 0,
            duration: 301,
            uploaded: '2022-06-11T21:44:35Z',
            fetched: '2022-06-13T05:01:31.989Z',
            query: '"img 0160"',
        },
        time: 1655613420.195,
        offset: 0,
    },
    {
        video: {
            id: 'VRZNlYWCntg',
            viewCount: 67,
            duration: 218,
            uploaded: '2022-06-13T11:36:57Z',
            fetched: '2022-06-17T05:03:22.625Z',
            query: '"img 0014"',
        },
        time: 1655613428.197,
        offset: 0,
    },
    {
        video: {
            id: 'UL5FmRNj5_g',
            viewCount: 6,
            duration: 22,
            uploaded: '2022-06-17T17:00:20Z',
            fetched: '2022-06-18T05:01:45.429Z',
            query: '"img 0123"',
        },
        time: 1655613436.198,
        offset: 0,
    },
    {
        video: {
            id: 'MrdAiTEgR4M',
            viewCount: 11,
            duration: 128,
            uploaded: '2022-06-16T14:32:11Z',
            fetched: '2022-06-18T05:03:33.647Z',
            query: '"img 0143"',
        },
        time: 1655613444.199,
        offset: 0,
    },
    {
        video: {
            id: 'I3BgnjG2pV4',
            viewCount: 14,
            duration: 31,
            uploaded: '2022-06-12T10:35:33Z',
            fetched: '2022-06-14T05:02:15.277Z',
            query: '"img 0034"',
        },
        time: 1655613452.199,
        offset: 0,
    },
    {
        video: {
            id: 'MwQfw0j2u2o',
            viewCount: 2,
            duration: 423,
            uploaded: '2022-06-15T12:59:56Z',
            fetched: '2022-06-17T05:02:51.495Z',
            query: '"dsc 0003"',
        },
        time: 1655613460.2,
        offset: 0,
    },
    {
        video: {
            id: '6OEW4f6LjAQ',
            viewCount: 1,
            duration: 65,
            uploaded: '2022-06-15T01:40:44Z',
            fetched: '2022-06-18T05:00:37.597Z',
            query: '"img 0192"',
        },
        time: 1655613468.201,
        offset: 0,
    },
    {
        video: {
            id: '7G0QmdjFDFg',
            viewCount: 4,
            duration: 26,
            uploaded: '2022-06-15T13:20:56Z',
            fetched: '2022-06-18T05:00:39.949Z',
            query: '"dsc 0010"',
        },
        time: 1655613476.201,
        offset: 0,
    },
    {
        video: {
            id: '6zpTFT0l8TU',
            viewCount: 197,
            duration: 50,
            uploaded: '2022-06-11T18:22:28Z',
            fetched: '2022-06-17T05:01:58.063Z',
            query: '"img 0044"',
        },
        time: 1655613484.2,
        offset: 0,
    },
    {
        video: {
            id: '0Fxcjz5cvXU',
            viewCount: 2,
            duration: 77,
            uploaded: '2022-06-14T11:15:29Z',
            fetched: '2022-06-15T05:03:23.863Z',
            query: '"mov 0004"',
        },
        time: 1655613492.2,
        offset: 0,
    },
    {
        video: {
            id: 'rqpj1-JR-rs',
            viewCount: 0,
            duration: 86,
            uploaded: '2022-06-12T13:34:10Z',
            fetched: '2022-06-14T05:01:44.112Z',
            query: '"img 0031"',
        },
        time: 1655613500.201,
        offset: 0,
    },
    {
        video: {
            id: '4_z6nlwntJ0',
            viewCount: 0,
            duration: 533,
            uploaded: '2022-06-13T12:05:53Z',
            fetched: '2022-06-14T05:02:27.245Z',
            query: '"img 0036"',
        },
        time: 1655613508.199,
        offset: 0,
    },
    {
        video: {
            id: 'wtAr84YRcDs',
            viewCount: 1,
            duration: 88,
            uploaded: '2022-06-12T13:31:15Z',
            fetched: '2022-06-15T05:02:02.830Z',
            query: '"img 0042"',
        },
        time: 1655613516.201,
        offset: 0,
    },
    {
        video: {
            id: 'eUYlHzQpaw4',
            viewCount: 9,
            duration: 173,
            uploaded: '2022-06-14T20:17:40Z',
            fetched: '2022-06-15T05:02:16.540Z',
            query: '"dsc 0090"',
        },
        time: 1655613524.201,
        offset: 0,
    },
    {
        video: {
            id: 'mYwbF1eE93M',
            viewCount: 0,
            duration: 20,
            uploaded: '2022-06-13T16:38:54Z',
            fetched: '2022-06-16T05:01:47.830Z',
            query: '"img 0010"',
        },
        time: 1655613532.203,
        offset: 0,
    },
    {
        video: {
            id: 'zWmEyailS_4',
            viewCount: 0,
            duration: 93,
            uploaded: '2022-06-12T18:19:16Z',
            fetched: '2022-06-17T05:03:24.959Z',
            query: '"dsc 0044"',
        },
        time: 1655613540.202,
        offset: 0,
    },
    {
        video: {
            id: '3PGi8fihJW8',
            viewCount: 33,
            duration: 46,
            uploaded: '2022-06-15T16:54:44Z',
            fetched: '2022-06-18T05:02:14.766Z',
            query: '"img 0008"',
        },
        time: 1655613548.204,
        offset: 0,
    },
    {
        video: {
            id: 'rlQmJE9o6H4',
            viewCount: 7,
            duration: 52,
            uploaded: '2022-06-16T20:22:00Z',
            fetched: '2022-06-17T05:03:22.625Z',
            query: '"img 0014"',
        },
        time: 1655613556.203,
        offset: 0,
    },
    {
        video: {
            id: '6c_SrU99Ckc',
            viewCount: 27,
            duration: 164,
            uploaded: '2022-06-13T20:26:13Z',
            fetched: '2022-06-16T05:01:21.711Z',
            query: '"img 0094"',
        },
        time: 1655613564.205,
        offset: 0,
    },
    {
        video: {
            id: 'CxdnogZh2B0',
            viewCount: 19,
            duration: 262,
            uploaded: '2022-06-14T16:03:00Z',
            fetched: '2022-06-16T05:03:44.298Z',
            query: '"dsc 0124"',
        },
        time: 1655613572.206,
        offset: 0,
    },
    {
        video: {
            id: '0WDu9L7ovG8',
            viewCount: 169,
            duration: 60,
            uploaded: '2022-06-12T10:17:00Z',
            fetched: '2022-06-14T05:02:08.185Z',
            query: '"mov 0019"',
        },
        time: 1655613580.206,
        offset: 0,
    },
    {
        video: {
            id: 'vNuKvVxMIIs',
            viewCount: 0,
            duration: 61,
            uploaded: '2022-06-12T18:47:30Z',
            fetched: '2022-06-17T05:00:27.500Z',
            query: '"img 0021"',
        },
        time: 1655613588.204,
        offset: 0,
    },
    {
        video: {
            id: 'QTOK3L2s7Tw',
            viewCount: 1,
            duration: 33,
            uploaded: '2022-06-13T09:58:03Z',
            fetched: '2022-06-16T05:00:16.480Z',
            query: '"dsc 0048"',
        },
        time: 1655613596.205,
        offset: 0,
    },
]

let count = 0
function getNextVideo() {
    const result = mockVideos[count]
    if (count === mockVideos.length - 1) {
        count = 0
    } else {
        count++
    }

    return result
}

export default function astrosocket() {
    let eventVideo: (v: VideoPayload) => void

    const handle = setInterval(() => {
        eventVideo(getNextVideo())
    }, 1000)

    return {
        on(eventName: 'video', cb: typeof eventVideo) {
            eventVideo = cb
        },
        close() {
            clearInterval(handle)
        },
    }
}
